{"name":"Log","hostname":"ip-172-31-37-206","pid":27287,"level":50,"err":{"id":"b707aa70-c23c-11e9-bcb3-219fd0879baf","domain":"http://localhost:2368","code":null,"name":"InternalServerError","statusCode":500,"level":"normal","message":"(EADDRINUSE) Cannot start Ghost.","context":"\"Port 2368 is already in use by another program.\"","help":"\"Is another Ghost instance already running?\"","stack":"InternalServerError: (EADDRINUSE) Cannot start Ghost.\n    at new GhostError (/var/www/ghost/core/server/lib/common/errors.js:10:26)\n    at Server.<anonymous> (/var/www/ghost/core/server/ghost-server.js:79:30)\n    at Server.emit (events.js:193:13)\n    at emitErrorNT (net.js:1286:8)\n    at processTicksAndRejections (internal/process/task_queues.js:81:17)"},"msg":"(EADDRINUSE) Cannot start Ghost.","time":"2019-08-19T04:49:23.609Z","v":0}
{"name":"Log","hostname":"ip-172-31-37-206","pid":27561,"level":50,"req":{"meta":{"requestId":"8d216b94-77fe-42e1-b769-94e00d2894e6","userId":null},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/canary/admin/users/me/?include=roles","params":{},"headers":{"x-real-ip":"171.61.195.195","host":"blog.bedrating.com","connection":"close","accept":"application/json, text/javascript, */*; q=0.01","x-requested-with":"XMLHttpRequest","x-ghost-version":"2.28","app-pragma":"no-cache","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.87 Safari/537.36","content-type":"application/json; charset=UTF-8","referer":"http://blog.bedrating.com/ghost/","accept-encoding":"gzip, deflate","accept-language":"en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7","cookie":"**REDACTED**"},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"321","etag":"W/\"141-730EfWgQIS+8PMTNevZYqF/raZU\"","vary":"Accept-Encoding"},"statusCode":403,"responseTime":"13ms"},"err":{"id":"19a750e0-c23d-11e9-bd10-e52eb3380a5f","domain":"http://localhost:2368","code":null,"name":"NoPermissionError","statusCode":403,"level":"normal","message":"Authorization failed","context":"\"Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.\"","stack":"NoPermissionError: Authorization failed\n    at new NoPermissionError (/var/www/ghost/node_modules/ghost-ignition/lib/errors/index.js:114:23)\n    at authorizeAdminApi (/var/www/ghost/core/server/services/auth/authorize.js:76:25)\n    at Layer.handle [as handle_request] (/var/www/ghost/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/www/ghost/node_modules/express/lib/router/route.js:137:13)\n    at /var/www/ghost/core/server/services/auth/session/middleware.js:119:20\n    at session (/var/www/ghost/node_modules/express-session/index.js:468:7)\n    at getSession (/var/www/ghost/core/server/services/auth/session/middleware.js:48:12)\n    at authenticate (/var/www/ghost/core/server/services/auth/session/middleware.js:106:5)\n    at Layer.handle [as handle_request] (/var/www/ghost/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/www/ghost/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/var/www/ghost/core/server/services/auth/api-key/admin.js:43:16)\n    at Layer.handle [as handle_request] (/var/www/ghost/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/www/ghost/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/var/www/ghost/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/var/www/ghost/node_modules/express/lib/router/layer.js:95:5)\n    at /var/www/ghost/node_modules/express/lib/router/index.js:281:22\n    at param (/var/www/ghost/node_modules/express/lib/router/index.js:354:14)\n    at param (/var/www/ghost/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/var/www/ghost/node_modules/express/lib/router/index.js:410:3)\n    at next (/var/www/ghost/node_modules/express/lib/router/index.js:275:10)\n    at /var/www/ghost/node_modules/cors/lib/index.js:228:13\n    at handleCORS (/var/www/ghost/core/server/web/shared/middlewares/api/cors.js:73:16)"},"msg":"Authorization failed","time":"2019-08-19T04:52:09.076Z","v":0}
{"name":"Log","hostname":"ip-172-31-37-206","pid":27561,"level":50,"err":{"id":"40b94cb0-c23d-11e9-bd10-e52eb3380a5f","domain":"http://localhost:2368","code":null,"name":"EmailError","statusCode":500,"level":"normal","message":"Failed to send email.","context":"\"Unable to send welcome email, your site will continue to function.\"","help":"\"Please see https://ghost.org/docs/concepts/config/#mail for instructions on configuring email.\"","stack":"EmailError: Failed to send email.\n    at EmailError.GhostError (/var/www/ghost/core/server/lib/common/errors.js:10:26)\n    at new EmailError (/var/www/ghost/core/server/lib/common/errors.js:34:20)\n    at EventEmitter.<anonymous> (/var/www/ghost/core/server/services/mail/GhostMailer.js:93:31)\n    at Object.onceWrapper (events.js:281:20)\n    at EventEmitter.emit (events.js:193:13)\n    at EventEmitter.emit (domain.js:481:20)\n    at DirectMailer.<anonymous> (/var/www/ghost/node_modules/directmail/lib/mailer.js:174:38)\n    at SMTPClient.<anonymous> (/var/www/ghost/node_modules/directmail/lib/mailer.js:292:13)\n    at Object.onceWrapper (events.js:281:20)\n    at SMTPClient.emit (events.js:193:13)\n    at SMTPClient.EventEmitter.emit (domain.js:481:20)\n    at SMTPClient._destroy (/var/www/ghost/node_modules/simplesmtp/lib/client.js:310:10)\n    at SMTPClient._onEnd (/var/www/ghost/node_modules/simplesmtp/lib/client.js:410:10)\n    at Socket.emit (events.js:198:15)\n    at Socket.EventEmitter.emit (domain.js:481:20)\n    at endReadableNT (_stream_readable.js:1139:12)\n    at processTicksAndRejections (internal/process/task_queues.js:81:17)"},"msg":"Failed to send email.","time":"2019-08-19T04:53:14.623Z","v":0}
{"name":"Log","hostname":"ip-172-31-37-206","pid":2918,"level":50,"err":{"id":500,"domain":"http://localhost:2368","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 127.0.0.1:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 127.0.0.1:3306\n    at DatabaseError.KnexMigrateError (/var/www/ghost/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/var/www/ghost/node_modules/knex-migrator/lib/errors.js:55:26)\n    at connection.raw.catch (/var/www/ghost/node_modules/knex-migrator/lib/database.js:47:19)\n    at tryCatcher (/var/www/ghost/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/www/ghost/node_modules/bluebird/js/release/promise.js:517:31)\n    at Promise._settlePromise (/var/www/ghost/node_modules/bluebird/js/release/promise.js:574:18)\n    at Promise._settlePromise0 (/var/www/ghost/node_modules/bluebird/js/release/promise.js:619:10)\n    at Promise._settlePromises (/var/www/ghost/node_modules/bluebird/js/release/promise.js:695:18)\n    at _drainQueueStep (/var/www/ghost/node_modules/bluebird/js/release/async.js:138:12)\n    at _drainQueue (/var/www/ghost/node_modules/bluebird/js/release/async.js:131:9)\n    at Async._drainQueues (/var/www/ghost/node_modules/bluebird/js/release/async.js:147:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/www/ghost/node_modules/bluebird/js/release/async.js:17:14)\n    at processImmediate (internal/timers.js:443:21)\n\nError: connect ECONNREFUSED 127.0.0.1:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1088:14)\n    --------------------\n    at Protocol._enqueue (/var/www/ghost/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/var/www/ghost/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/var/www/ghost/node_modules/mysql/lib/Connection.js:119:18)\n    at _bluebird.default (/var/www/ghost/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:82:18)\n    at Promise._execute (/var/www/ghost/node_modules/bluebird/js/release/debuggability.js:313:9)\n    at Promise._resolveFromExecutor (/var/www/ghost/node_modules/bluebird/js/release/promise.js:488:18)\n    at new Promise (/var/www/ghost/node_modules/bluebird/js/release/promise.js:79:10)\n    at Client_MySQL.acquireRawConnection (/var/www/ghost/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:77:12)\n    at create (/var/www/ghost/node_modules/knex-migrator/node_modules/knex/lib/client.js:282:21)\n    at utils_1.tryPromise (/var/www/ghost/node_modules/tarn/lib/Pool.js:315:34)\n    at Object.tryPromise (/var/www/ghost/node_modules/tarn/lib/utils.js:53:24)\n    at Promise (/var/www/ghost/node_modules/tarn/lib/Pool.js:315:17)\n    at Promise._execute (/var/www/ghost/node_modules/bluebird/js/release/debuggability.js:313:9)\n    at Promise._resolveFromExecutor (/var/www/ghost/node_modules/bluebird/js/release/promise.js:488:18)\n    at new Promise (/var/www/ghost/node_modules/bluebird/js/release/promise.js:79:10)\n    at callbackOrPromise (/var/www/ghost/node_modules/tarn/lib/Pool.js:306:12)"},"msg":"connect ECONNREFUSED 127.0.0.1:3306","time":"2019-08-19T05:12:24.730Z","v":0}
